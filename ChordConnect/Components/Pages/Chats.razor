@page "/chats"

@using MudBlazor

<style>
    @@import url('https://fonts.googleapis.com/css2?family=Inter:wght@@400;500;600&family=Quicksand:wght@@400;500;600&display=swap');

    * {
        font-family: 'Quicksand', 'Inter', sans-serif;
    }

    .chat-item {
        display: flex;
        align-items: center;
        padding: 12px;
        border-radius: 12px;
        background-color: #2A2A2A;
        margin-bottom: 10px;
        cursor: pointer;
        transition: background-color 0.2s ease-in-out;
    }

    .chat-item:hover {
        background-color: #3A3A3A;
    }

    .chat-avatar {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        margin-right: 12px;
    }

    .chat-info {
        color: #FFE9D6;
    }

    .chat-name {
        font-weight: bold;
    }

    .chat-preview {
        font-size: 0.85rem;
        color: #B5B5B5;
    }
</style>

<div style="width: 390px; height: 800px; background-color: #1E1E1E; padding: 16px;">
    <MudText Typo="Typo.h5" Align="Align.Center" Class="mb-4" Style="color: #FFE9D6;">
        Chats
    </MudText>

    @foreach (var chat in chatList)
    {
            <div class="chat-item" @onclick="@(() => OpenChat(chat.Id))">
                <img src="@chat.AvatarUrl" alt="Avatar" class="chat-avatar" />
                <div class="chat-info">
                    <div class="chat-name">@chat.Name</div>
                    <div class="chat-preview">@chat.LastMessage</div>
                </div>
            </div>
    }
</div>

@code {
    private List<ChatModel> chatList = new()
    {
        new ChatModel { Id = 1, Name = "Luna", LastMessage = "Hey, wie geht's dir?", AvatarUrl = "https://i.pravatar.cc/100?img=1" },
        new ChatModel { Id = 2, Name = "Timo", LastMessage = "Klingt gut, ich bin dabei!", AvatarUrl = "https://i.pravatar.cc/100?img=2" },
        new ChatModel { Id = 3, Name = "Alex", LastMessage = "Bis später 👋", AvatarUrl = "https://i.pravatar.cc/100?img=3" },
    };

    private void OpenChat(int chatId)
    {
        // Hier könntest du zur Chat-Seite navigieren, z.B.:
        Console.WriteLine($"Chat mit ID {chatId} öffnen.");
        // NavigationManager.NavigateTo($"/chat/{chatId}");
    }

    public class ChatModel
    {
        public int Id { get; set; }
        public string Name { get; set; }
        public string LastMessage { get; set; }
        public string AvatarUrl { get; set; }
    }
}
